# 藻类策略游戏（algaeplus）

## 项目简介

**algaeplus** 是一个基于 Qt 的水藻生态策略游戏。玩家需要在有限的网格中合理布局不同类型的藻类，通过管理资源、利用藻类特性，提升整体产量，达成通关目标。游戏兼具策略性与趣味性，适合教学、科研、竞赛或兴趣开发。

---

## 游戏背景

随着人类对可持续发展的重视，微藻因其高效的光合作用和丰富的营养价值，成为生物能源和食品工业的重要研究对象。本游戏模拟了多种藻类的共生与竞争，帮助玩家理解生态系统中资源分配、遮光效应、协同增益等机制。

---

## 主要功能
- 5 种可种植藻类，每种拥有独特的资源消耗、产出和特性
- 资源管理系统（糖类、脂质、蛋白质、维生素）
- 遮光、协同、加速等多种格子特性机制
- 实时生产速率与资源统计
- 通关胜利条件与评分系统
- 友好的图形化界面，支持全屏
- 背景音乐与多种音效
- 鼠标悬浮查看格子详细信息
- ESC 菜单支持暂停、重开、设置音量

---

## 游戏玩法说明

### 基本操作
- **左键点击**：在选中藻类后，点击网格放置该藻类
- **右键点击**：移除已种植的藻类，返还部分资源
- **鼠标悬浮**：查看格子当前资源、光照、可否种植等信息
- **ESC**：打开菜单，可暂停、重新开始、设置音量等

### 游戏目标
- 达成所有资源（糖类≥500，脂质≥300，蛋白质≥200，维生素≥100）
- 达成所有生产速率（糖类≥50/秒，脂质≥30/秒，蛋白质≥20/秒，维生素≥10/秒）
- 达标后可继续挑战更高分数

### 资源说明
- **糖类**：主要由螺旋藻、裸藻、小球藻、小型硅藻、蓝藻产出
- **脂质**：主要由小球藻、裸藻、蓝藻产出
- **蛋白质**：主要由螺旋藻、裸藻、小型硅藻、蓝藻产出
- **维生素**：主要由小球藻、小型硅藻、裸藻、蓝藻产出

---

## 藻类属性一览表

| 类型 | 中文名 | 英文名 | 光照需求 | 种植消耗 | 遮光 | 消耗 | 产出 | 特性 |
|------|--------|--------|----------|----------|------|------|------|------|
| A型  | 螺旋藻 | Spirulina | 种植22/维持18/存活12 | 糖20 蛋白10 | 下方1格 -8 | N×1/s C×8/s | 糖×5/s 蛋白×2/s | 同类相邻减产 |
| B型  | 小球藻 | Chlorella | 种植18/维持14/存活10 | 糖16 脂质12 维生素4 | 下方2格 -5 | N×2/s C×6/s | 糖×3/s 脂质×4/s 维生素×1/s | 提升左右格恢复速率 |
| C型  | 小型硅藻 | Cyclotella | 种植12/维持8/存活6 | 糖16 蛋白8 维生素24 | 无 | N×3/s C×18/s | 糖×1.5/s 蛋白×1.5/s 维生素×2.5/s | 与B型相邻糖减产 |
| D型  | 裸藻 | Euglena | 种植16/维持12/存活8 | 糖12 脂质8 蛋白6 维生素6 | 下方1格 -4 | N×1.5/s C×7/s | 糖×2.5/s 脂质×1.5/s 蛋白×1.5/s 维生素×1.5/s | 与A/B/C型相邻协同增益，产量+20% |
| E型  | 蓝藻 | Cyanobacteria | 种植8/维持4/存活2 | 糖10 脂质6 蛋白4 维生素4 | 无 | N×1/s C×5/s | 糖×2/s 脂质×1/s 蛋白×1/s 维生素×1/s | 极低光照生存，为周围格子+4光照 |

> 详细属性可在游戏右侧点击"查看所有藻类属性"按钮查看。

---

## 策略与技巧
- 合理错开螺旋藻/小球藻/小型硅藻/裸藻/蓝藻，利用小球藻加速、裸藻协同、蓝藻补光，避免螺旋藻连片和小型硅藻与小球藻直接相邻，可最大化资源产出。
- 蓝藻适合放在光照较低的格子，辅助提升周围格子的光照。
- 小球藻横向连片可提升整体资源恢复速度。
- 裸藻与其他类型相邻时可协同增益，建议交错布局。

---

## 编译与运行

### 依赖环境
- Qt 6（推荐 6.4 及以上，需包含 Widgets 和 Multimedia 模块）
- CMake 3.16 及以上
- C++17 编译器（如 MinGW 64-bit、MSVC、GCC 等）
- Ninja（推荐，或使用默认 make 工具）

### 依赖安装（以 Windows 为例）
1. [下载并安装 Qt](https://www.qt.io/download)（建议用 Qt 官方安装器，选择 Qt6 + MinGW）
2. [下载并安装 CMake](https://cmake.org/download/)
3. [下载并安装 Ninja](https://ninja-build.org/)（可选）
4. 配置环境变量，确保 `qmake`、`cmake`、`ninja` 可在命令行使用

### 编译步骤
1. 打开命令行，进入项目目录：
   ```bash
   cd algaeplus
   mkdir build && cd build
   cmake .. -G "Ninja" -DCMAKE_PREFIX_PATH=你的Qt安装路径
   cmake --build .
   ```
2. 或用 Qt Creator 打开 `algaeplus/CMakeLists.txt`，选择合适的套件，点击构建并运行

### 运行
- 编译成功后，直接运行生成的可执行文件即可
- 资源文件已通过 `.qrc` 打包，无需手动拷贝

---

## 主要文件说明
- `main.cpp`：程序入口
- `mainwindow.h/cpp`：主窗口与UI逻辑
- `algaegame.h/cpp`：游戏主逻辑
- `gamegrid.h/cpp`：网格与格子管理
- `algaecell.h/cpp`：单元格（藻类）逻辑
- `algaetype.h/cpp`：藻类类型与属性定义
- `gameresources.h/cpp`：资源管理
- `SoundManager.h/cpp`：音效管理
- `resources.qrc`、`image.qrc`、`sound.qrc`：资源文件
- `../resources/`：所有图片、音效等素材

---

## 常见问题 FAQ

**Q1：编译时报找不到 Qt 相关模块？**  
A：请检查 Qt 安装路径是否正确，CMake 配置时 `-DCMAKE_PREFIX_PATH` 是否指向 Qt 安装目录（如 `.../Qt/6.8.1/mingw_64/lib/cmake`）。

**Q2：运行时没有声音/图片？**  
A：请确保资源文件已通过 `.qrc` 正确打包，或检查 Qt 多媒体模块是否安装。

**Q3：推送代码到 GitHub 报错？**  
A：请参考 README 前面关于 Token 的说明，或检查网络和远程仓库地址。

**Q4：游戏窗口打不开/闪退？**  
A：请检查 Qt 运行环境是否配置好，或尝试用 Qt Creator 直接运行。

---

## 贡献指南
- 欢迎提交 issue、PR 或建议
- 代码请遵循原有风格，注释清晰
- 新增功能请补充说明文档
- 如有疑问可先提 issue 讨论

---

## 联系方式
- 作者：pointzu
- GitHub: [https://github.com/pointzu/nku-2-2homework](https://github.com/pointzu/nku-2-2homework)
- 邮箱：请在 GitHub 主页查看

---

## 许可协议

本项目仅供学习与交流，欢迎二次开发与改进。请勿用于商业用途。 